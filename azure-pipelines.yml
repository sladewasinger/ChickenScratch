trigger:
  - master

pool:
  vmImage: "windows-latest"

variables:
  buildConfiguration: "Release"

steps:
  - task: DotNetCoreCLI@2
    inputs:
      command: "restore"
      feedsToUse: "select"
      vstsFeed: "my-vsts-feed" # A series of numbers and letters

  - task: DotNetCoreCLI@2
    inputs:
      command: "build"
      arguments: "--configuration $(buildConfiguration)"
    displayName: "dotnet build $(buildConfiguration)"

  - task: DotNetCoreCLI@2
    inputs:
      command: publish
      publishWebProjects: True
      arguments: "--configuration $(BuildConfiguration) --output $(Build.ArtifactStagingDirectory)"
      zipAfterPublish: True

  # this code takes all the files in $(Build.ArtifactStagingDirectory) and uploads them as an artifact of your build.
  - task: PublishBuildArtifacts@1
    inputs:
      pathtoPublish: "$(Build.ArtifactStagingDirectory)"
      artifactName: "myWebsiteName"
